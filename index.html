<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Spinning Wheel</title>

  <link rel="stylesheet" href="style.css" />

</head>

<body>

  <div class="container">

<img class="img-epic" src="img/epicwe.png" alt="myarrow">

<img class="img-arrow" src="img/play.png" alt="myarrow">

<div class="spinBtn">Spin</div>

    <div class="wheel">

<span style="--i:0;"></span>

<span style="--i:1;"></span>

<span style="--i:2;"></span>

<span style="--i:3;"></span>

<div class="number">

<b style="--i:0;">Redefining Values/Generations</b>

<b style="--i:1;">Remixing Heritage/History</b>

<b style="--i:2;">Reimagining Utopian/Dystopian Futures</b>

<b style="--i:3;">Rewriting History/Reality</b>

</div>

</div>

<div class="wheel inner">

<span style="--i:0;"></span>

<span style="--i:1;"></span>

<span style="--i:2;"></span>

<span style="--i:3;"></span>

<div class="cultural">

<b style="--i:0;">Cultural Aesthetics</b>

<b style="--i:1;">Cultural Gameplay</b>

<b style="--i:2;">Cultural Gameworlds</b>

<b style="--i:3;">Cultural Stories</b>

</div>

</div>

<div class="wheel innerin">

<span style="--i:0;"></span>

<span style="--i:1;"></span>

<span style="--i:2;"></span>

<span style="--i:3;"></span>

<div class="senses">

<b style="--i:0;">Simulations/Senses</b>

<b style="--i:1;">Anti-Shooter/Action</b>

<b style="--i:2;">Rhythm/Art</b>

<b style="--i:3;">Puzzle/Adventure</b>

</div>

</div>

<div class="wheel innerinin">

<span style="--i:0;"></span>

<span style="--i:1;"></span>

<span style="--i:2;"></span>

<span style="--i:3;"></span>

<div class="freedom">

<b style="--i:0;">Freedom</b>

<b style="--i:1;">Law of Rules</b>

<b style="--i:2;">Equality</b>

<b style="--i:3;">Human rights</b>

<b style="--i:4;">Democracy</b>

<b style="--i:5;">Human Dignity</b>

</div>

</div>

  </div>

<script>
const spinBtn = document.querySelector('.spinBtn');
const wheel = document.querySelector('.wheel');
const inner = document.querySelector('.inner');
const innerin = document.querySelector('.innerin');
const innerinin = document.querySelector('.innerinin');

let angle1 = 0, angle2 = 0, angle3 = 0, angle4 = 0;

const offsets = {
  outer: 270,      // yellow layer
  inner: 270,      // blue layer
  innerin: 270,    // pink layer
  innerinin: 270   // purple center
};

const getSegmentIndex = (angle, segments, offset = 0) => {
  let adjusted = (360 - ((angle + offset) % 360)) % 360;
  return Math.floor(adjusted / (360 / segments));
};


spinBtn.onclick = () => {
  let rotate1 = Math.ceil(Math.random() * 3600);
  let rotate2 = Math.ceil(Math.random() * 3600);
  let rotate3 = Math.ceil(Math.random() * 3600);
  let rotate4 = Math.ceil(Math.random() * 3600);

  angle1 += rotate1;
  angle2 += rotate2;
  angle3 += rotate3;
  angle4 += rotate4;

  wheel.style.transform = `rotate(${angle1}deg)`;
  inner.style.transform = `rotate(${angle2}deg)`;
  innerin.style.transform = `rotate(${angle3}deg)`;
  innerinin.style.transform = `rotate(${angle4}deg)`;

  // Wait until spin ends
  setTimeout(() => {
    const outerTexts = document.querySelectorAll('.number b');
    const innerTexts = document.querySelectorAll('.cultural b');
    const innerinTexts = document.querySelectorAll('.senses b');
    const innerininTexts = document.querySelectorAll('.freedom b');

    let outerIdx = getSegmentIndex(angle1, 4, offsets.outer);
let innerIdx = getSegmentIndex(angle2, 4, offsets.inner);
let innerinIdx = getSegmentIndex(angle3, 4, offsets.innerin);
let innerininIdx = getSegmentIndex(angle4, 6, offsets.innerinin);


    let result = {
      outer: outerTexts[outerIdx]?.textContent || '',
      inner: innerTexts[innerIdx]?.textContent || '',
      innerin: innerinTexts[innerinIdx]?.textContent || '',
      innerinin: innerininTexts[innerininIdx]?.textContent || ''
    };

    alert(`Result:\n- Outer: ${result.outer}\n- Inner: ${result.inner}\n- InnerIn: ${result.innerin}\n- Center: ${result.innerinin}`);
  }, 6000); // match spin duration (longest layer = 6s)
};
</script>


</body>

</html>